
 <!DOCTYPE HTML>
<html lang="zh-CN">
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
  
    <title>ES6（一）：let和const | ANNI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=3, minimum-scale=1">
    
    <meta name="author" content="anni">
    
    <meta name="description" content="ES6（一）：let和const一、let1. let基本用法&amp;emsp;&amp;emsp;相当于var,但是又与var不同，因为let声明的变量只能在let所在的代码块中有效。&amp;emsp;&amp;emsp;从以下两段代码以及对应的输出结果可以很明显的看出var与let的区别。code：
1234for (va">
    
    
    
    
    
    <link rel="icon" href="/img/favicon.ico">
    
    
    <link rel="apple-touch-icon" href="/img/pacman.jpg">
    <link rel="apple-touch-icon-precomposed" href="/img/pacman.jpg">
    
    <link rel="stylesheet" href="/css/style.css">
</head>
</html>
  <body>
    <header>
      <div>
    
        <div id="imglogo">
            <a href="/"><img src="/img/logo.svg" alt="ANNI" title="ANNI"></a>
        </div>
        
            <div id="textlogo">
                <h1 class="site-name">
                    <a href="/" title="ANNI">
                        ANNI
                    </a>
                </h1>
                <h2 class="blog-motto">
                    
                        宇宙超级无敌测试美少女
                            
                </h2>
            </div>
            <div class="navbar">
                <a class="navbutton navmobile" href="#" title="菜单">
                </a>
            </div>
            <nav class="animated">
                <ul>
                    
                        <li>
                            <a href="/">
                                Home
                            </a>
                        </li>
                        
                        <li>
                            <a href="/archives">
                                Archives
                            </a>
                        </li>
                        
                        <li>
                            <a href="/tags">
                                Tags
                            </a>
                        </li>
                        
                        <li>
                            <a href="/categories">
                                Categories
                            </a>
                        </li>
                        
                        <li>
                            <a href="/about">
                                About
                            </a>
                        </li>
                        
                            <li>
                                

                                        
                            </li>
                </ul>
            </nav>
</div>
    </header>
    <div id="container">
      <div id="main" class="post" itemscope="" itemprop="blogPost">
	<article itemprop="articleBody"> 
		<header class="article-info clearfix">
  <h1 itemprop="name">
    
      <a href="/2018/10/31/letandconst/" title="ES6（一）：let和const" itemprop="url">ES6（一）：let和const</a>
  </h1>
  <p class="article-author">By
    
      <a href="http://yoursite.com" title="anni">anni</a>
    </p>
  <p class="article-time">
    <time datetime="2018-10-31T14:33:05.000Z" itemprop="datePublished">2018-10-31</time>
    更新日期:<time datetime="2018-11-08T14:39:22.943Z" itemprop="dateModified">2018-11-08</time>
    
  </p>
</header>
	<div class="article-content">
		
		
		<h1 id="ES6（一）：let和const"><a href="#ES6（一）：let和const" class="headerlink" title="ES6（一）：let和const"></a>ES6（一）：let和const</h1><h2 id="一、let"><a href="#一、let" class="headerlink" title="一、let"></a>一、let</h2><h3 id="1-let基本用法"><a href="#1-let基本用法" class="headerlink" title="1. let基本用法"></a>1. let基本用法</h3><p>&emsp;&emsp;相当于var,但是又与var不同，因为let声明的变量只能在let所在的代码块中有效。<br>&emsp;&emsp;从以下两段代码以及对应的输出结果可以很明显的看出var与let的区别。<br><strong><em>code：</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(i);</span><br></pre></td></tr></table></figure>
<p><strong><em>result：</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>
<p><strong><em>code：</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(i);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(i);</span><br></pre></td></tr></table></figure>
<p><strong><em>result：</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="built_in">ReferenceError</span>: i is not defined</span><br></pre></td></tr></table></figure>
<h3 id="2-块级作用域"><a href="#2-块级作用域" class="headerlink" title="2. 块级作用域"></a>2. 块级作用域</h3><p>&emsp;&emsp;众所周知，在ES5中只有全局作用域和函数作用域，没有我们所谓的块级作用域。<br>&emsp;&emsp;这不禁让我想起一个面试题：<br><strong><em>code：</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">new</span> <span class="built_in">Date</span>, i);</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> <span class="built_in">Date</span>, i);</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;问：上面这段代码输出的结果是什么？<br>&emsp;&emsp;仔细琢磨一下我们很容易得出正确的答案：  </p>
<p><strong><em>result：</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2018</span><span class="number">-10</span><span class="number">-31</span>T06:<span class="number">55</span>:<span class="number">30.020</span>Z <span class="number">5</span></span><br><span class="line"><span class="number">2018</span><span class="number">-10</span><span class="number">-31</span>T06:<span class="number">55</span>:<span class="number">31.021</span>Z <span class="number">5</span></span><br><span class="line"><span class="number">2018</span><span class="number">-10</span><span class="number">-31</span>T06:<span class="number">55</span>:<span class="number">31.021</span>Z <span class="number">5</span></span><br><span class="line"><span class="number">2018</span><span class="number">-10</span><span class="number">-31</span>T06:<span class="number">55</span>:<span class="number">31.022</span>Z <span class="number">5</span></span><br><span class="line"><span class="number">2018</span><span class="number">-10</span><span class="number">-31</span>T06:<span class="number">55</span>:<span class="number">31.022</span>Z <span class="number">5</span></span><br><span class="line"><span class="number">2018</span><span class="number">-10</span><span class="number">-31</span>T06:<span class="number">55</span>:<span class="number">31.022</span>Z <span class="number">5</span></span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;仔细看一下发现：由于setTimeout会被JavaScript延迟执行，因此是先输出最底部的console.log，隔一秒之后再执行循环里面的consol.log,此时i已经全部是5。<br>&emsp;&emsp;那我们怎么样才能使输出结果变成想要的0,1,2,3,4呢？<br>&emsp;&emsp;明白了let的原理之后其实问题变得很简单：<br><strong><em>code：</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="keyword">new</span> <span class="built_in">Date</span>, i);</span><br><span class="line">    &#125;, <span class="number">1000</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> <span class="built_in">Date</span>, i);</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;这样就行了吗？<br><strong><em>result：</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ReferenceError</span>: i is not defined</span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;哈哈，刚刚还说过let只在所在的代码块里面有效，这里最外层的console.log很明显找不到i，所以报出引用错误。想要得到正确答案其实还需要去掉最后一行console.log。<br>&emsp;&emsp;当然这个题目要搁以前的话，首先想到的解决方案应该是IIFE（Immediately Invoked Function Expression：声明即执行的函数表达式）来解决闭包造成的问题。<br><strong><em>code：</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; i++) &#123;</span><br><span class="line">    (<span class="function"><span class="keyword">function</span>(<span class="params">j</span>) </span>&#123;  </span><br><span class="line">        setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">            <span class="built_in">console</span>.log(<span class="keyword">new</span> <span class="built_in">Date</span>, j);</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;)(i);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> <span class="built_in">Date</span>, i);</span><br></pre></td></tr></table></figure>
<p><strong><em>result：</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">2018</span><span class="number">-10</span><span class="number">-31</span>T07:<span class="number">17</span>:<span class="number">45.825</span>Z <span class="number">5</span></span><br><span class="line"><span class="number">2018</span><span class="number">-10</span><span class="number">-31</span>T07:<span class="number">17</span>:<span class="number">46.827</span>Z <span class="number">0</span></span><br><span class="line"><span class="number">2018</span><span class="number">-10</span><span class="number">-31</span>T07:<span class="number">17</span>:<span class="number">46.827</span>Z <span class="number">1</span></span><br><span class="line"><span class="number">2018</span><span class="number">-10</span><span class="number">-31</span>T07:<span class="number">17</span>:<span class="number">46.827</span>Z <span class="number">2</span></span><br><span class="line"><span class="number">2018</span><span class="number">-10</span><span class="number">-31</span>T07:<span class="number">17</span>:<span class="number">46.827</span>Z <span class="number">3</span></span><br><span class="line"><span class="number">2018</span><span class="number">-10</span><span class="number">-31</span>T07:<span class="number">17</span>:<span class="number">46.827</span>Z <span class="number">4</span></span><br></pre></td></tr></table></figure>
<p>&emsp;&emsp;由此我们是不是就可以得出一个结论，有了let，我们就可以抛弃IIFE了？<br>&emsp;&emsp;这个暂时还不好说，我们还是继续看看let的其他特性。</p>
<h3 id="3-没有变量提升"><a href="#3-没有变量提升" class="headerlink" title="3. 没有变量提升"></a>3. 没有变量提升</h3><p>&emsp;&emsp;var命令会产生变量提升的现象，这使得js这门语言变得并不严谨，这一点是特点也是鸡肋。用var声明的变量，如果我们在声明之前使用，则它的值为undefined。<br>&emsp;&emsp;而当我们用let定义变量时，就必须严格按照先定义再使用的原则了，反之则会抛出一个大大的引用错误（ReferenceError），显然这更符合人们的使用习惯。<br><strong><em>code：</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(a);</span><br><span class="line"><span class="keyword">var</span> a = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(b);</span><br><span class="line"><span class="keyword">let</span> b = <span class="number">2</span>;</span><br></pre></td></tr></table></figure>
<p><strong><em>result：</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="literal">undefined</span></span><br><span class="line"><span class="built_in">ReferenceError</span>: b is not defined</span><br></pre></td></tr></table></figure>
<h3 id="4-暂时性死区及不能重复声明"><a href="#4-暂时性死区及不能重复声明" class="headerlink" title="4. 暂时性死区及不能重复声明"></a>4. 暂时性死区及不能重复声明</h3><p>&emsp;&emsp;ES6 明确规定，如果区块中存在let和const命令，这个区块对这些命令声明的变量，从一开始就形成了封闭作用域。凡是在声明之前就使用这些变量，就会报错。<br>&emsp;&emsp;总之，在代码块内，使用let命令声明变量之前，该变量都是不可用的。这在语法上，称为“暂时性死区”（temporal dead zone，简称 TDZ）。<br>&emsp;&emsp;“暂时性死区”也意味着typeof不再是一个百分之百安全的操作。<br>&emsp;&emsp;let不允许在相同作用域内，重复声明同一个变量。</p>
<h2 id="二、const"><a href="#二、const" class="headerlink" title="二、const"></a>二、const</h2><h3 id="1-const基本用法"><a href="#1-const基本用法" class="headerlink" title="1. const基本用法"></a>1. const基本用法</h3><p>&emsp;&emsp;const命令是声明一个常量，用法和let一样。</p>
<ul>
<li>和let的相同之处是：<ul>
<li>const与let作用域相同，都是只在声明的代码块中起作用</li>
<li>const也不会提升所声明的常量</li>
<li>const也不能重复声明</li>
</ul>
</li>
<li>不同之处是const声明的常量在声明时就必须赋值，因为一旦声明就不能改变改常量的值</li>
</ul>
<h3 id="2-真的不能改变吗？"><a href="#2-真的不能改变吗？" class="headerlink" title="2. 真的不能改变吗？"></a>2. 真的不能改变吗？</h3><p>&emsp;&emsp;const实际上保证的，并不是变量的值不得改动，而是变量指向的那个内存地址所保存的数据不得改动。对于简单类型的数据（数值、字符串、布尔值），值就保存在变量指向的那个内存地址，因此等同于常量。但对于复合类型的数据（主要是对象和数组），变量指向的内存地址，保存的只是一个指向实际数据的指针，const只能保证这个指针是固定的（即总是指向另一个固定的地址），至于它指向的数据结构是不是可变的，就完全不能控制了。因此，将一个对象声明为常量必须非常小心。<br><strong><em>code&amp;result：</em></strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a=<span class="number">1</span>;</span><br><span class="line">a=<span class="number">2</span>;<span class="comment">//TypeError</span></span><br><span class="line"><span class="keyword">const</span> obj=&#123;</span><br><span class="line">    b:<span class="number">3</span>,</span><br><span class="line">    c:<span class="number">4</span></span><br><span class="line">&#125;</span><br><span class="line">obj.b=<span class="number">5</span>;</span><br><span class="line"><span class="built_in">console</span>.log(obj);<span class="comment">//&#123;b:5,c:4&#125;</span></span><br></pre></td></tr></table></figure>
<h3 id="参考资料"><a href="#参考资料" class="headerlink" title="参考资料"></a>参考资料</h3><ul>
<li><a href="http://es6.ruanyifeng.com/#docs/let#let-%E5%91%BD%E4%BB%A4" target="_blank" rel="noopener">《ECMAScript 6 入门》</a>——阮一峰</li>
<li><a href="https://zhuanlan.zhihu.com/p/25855075" target="_blank" rel="noopener">破解前端面试（80% 应聘者不及格系列）：从闭包说起</a>——王仕军知乎专栏：前端周刊</li>
<li><a href="http://www.ecma-international.org/ecma-262/6.0/" target="_blank" rel="noopener">ECMAScript2015官方标准</a></li>
</ul>
  
	</div>
		<footer class="article-footer clearfix">
    
  <div class="article-tags">
  
  <span></span> <a href="/tags/ES6/">ES6</a>
  </div>


<div class="article-categories">
  <span></span>
  <a class="article-category-link" href="/categories/ES6/">ES6</a>
</div>



        <div class="article-share" id="share" style="display:none;" <div="" data-url="http://yoursite.com/2018/10/31/letandconst/" data-title="ES6（一）：let和const | ANNI" data-tsina="">
                    </div>
                    
        
</footer>   	       
	</article>
	
<nav class="article-nav clearfix">
 
 <div class="prev">
 <a href="/2018/11/08/hanzizhuanpinyin/" title="汉字转拼音">
  <strong>PREVIOUS:</strong><br>
  <span>
  汉字转拼音</span>
</a>
</div>


<div class="next">
<a href="/2018/08/05/twojs/" title="匹配字符串中的子串，并让子串红色显示、格式化输出json、元素点击之后hover失效、word-wrap:break-word和word-break:break-all">
 <strong>NEXT:</strong><br> 
 <span>匹配字符串中的子串，并让子串红色显示、格式化输出json、元素点击之后hover失效、word-wrap:break-word和word-break:break-all
</span>
</a>
</div>

</nav>

	
</div>  
      <div class="openaside"><a class="navbutton" href="#" title="显示侧边栏"></a></div>

  <div id="toc" class="toc-aside">
  <strong class="toc-title">文章目录</strong>
  <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#ES6（一）：let和const"><span class="toc-number">1.</span> <span class="toc-text">ES6（一）：let和const</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#一、let"><span class="toc-number">1.1.</span> <span class="toc-text">一、let</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-let基本用法"><span class="toc-number">1.1.1.</span> <span class="toc-text">1. let基本用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-块级作用域"><span class="toc-number">1.1.2.</span> <span class="toc-text">2. 块级作用域</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#3-没有变量提升"><span class="toc-number">1.1.3.</span> <span class="toc-text">3. 没有变量提升</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-暂时性死区及不能重复声明"><span class="toc-number">1.1.4.</span> <span class="toc-text">4. 暂时性死区及不能重复声明</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#二、const"><span class="toc-number">1.2.</span> <span class="toc-text">二、const</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#1-const基本用法"><span class="toc-number">1.2.1.</span> <span class="toc-text">1. const基本用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#2-真的不能改变吗？"><span class="toc-number">1.2.2.</span> <span class="toc-text">2. 真的不能改变吗？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#参考资料"><span class="toc-number">1.2.3.</span> <span class="toc-text">参考资料</span></a></li></ol></li></ol></li></ol>
  </div>

<div id="asidepart">
<div class="closeaside"><a class="closebutton" href="#" title="隐藏侧边栏"></a></div>
<aside class="clearfix">

  
<div class="categorieslist">
	<p class="asidetitle">分类</p>
		<ul>
		
			<li><a href="/categories/ES6/" title="ES6">ES6<sup>1</sup></a></li>
		
			<li><a href="/categories/JavaScript/" title="JavaScript">JavaScript<sup>7</sup></a></li>
		
			<li><a href="/categories/工具/" title="工具">工具<sup>2</sup></a></li>
		
		</ul>
</div>


  
<div class="tagslist">
	<p class="asidetitle">标签</p>
		<ul class="clearfix">
		
			<li><a href="/tags/ES6/" title="ES6">ES6<sup>1</sup></a></li>
		
			<li><a href="/tags/JavaScript/" title="JavaScript">JavaScript<sup>7</sup></a></li>
		
			<li><a href="/tags/工具/" title="工具">工具<sup>2</sup></a></li>
		
		</ul>
</div>


  <div class="rsspart">
	<a href="" target="_blank" title="rss">RSS 订阅</a>
</div>

</aside>
</div>
    </div>
    <footer><div id="footer">
    
        <div class="line">
            <span></span>
            <div class="author"></div>
        </div>
        
            
                <section class="info">
                    <p>
                        You are the apple of my eyes <br>
                            Super beautiful young girls
                    </p>
                </section>
                
                    <!-- <div class="social-font clearfix">
                        
                                
                                        
                                                
                                                        
                    </div> -->
                    <p class="copyright">The Benevolent See Benevolence ©
                        2018
                            
                                <a href="http://yoursite.com" target="_blank" title="anni">
                                    anni
                                </a>
                                
                    </p>
</div></footer>
    <script src="/js/jquery-2.1.0.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){ 
  $('.navbar').click(function(){
    $('header nav').toggleClass('shownav');
  });
  var myWidth = 0;
  function getSize(){
    if( typeof( window.innerWidth ) == 'number' ) {
      myWidth = window.innerWidth;
    } else if( document.documentElement && document.documentElement.clientWidth) {
      myWidth = document.documentElement.clientWidth;
    };
  };
  var m = $('#main'),
      a = $('#asidepart'),
      c = $('.closeaside'),
      o = $('.openaside');
  $(window).resize(function(){
    getSize(); 
    if (myWidth >= 1024) {
      $('header nav').removeClass('shownav');
    }else
    {
      m.removeClass('moveMain');
      a.css('display', 'block').removeClass('fadeOut');
      o.css('display', 'none');
      
      $('#toc.toc-aside').css('display', 'none');
        
    }
  });
  c.click(function(){
    a.addClass('fadeOut').css('display', 'none');
    o.css('display', 'block').addClass('fadeIn');
    m.addClass('moveMain');
  });
  o.click(function(){
    o.css('display', 'none').removeClass('beforeFadeIn');
    a.css('display', 'block').removeClass('fadeOut').addClass('fadeIn');      
    m.removeClass('moveMain');
  });
  $(window).scroll(function(){
    o.css("top",Math.max(80,260-$(this).scrollTop()));
  });
});
</script>

<script type="text/javascript">
$(document).ready(function(){ 
  var ai = $('.article-content>iframe'),
      ae = $('.article-content>embed'),
      t  = $('#toc'),
      h  = $('article h2')
      ah = $('article h2'),
      ta = $('#toc.toc-aside'),
      o  = $('.openaside'),
      c  = $('.closeaside');
  if(ai.length>0){
    ai.wrap('<div class="video-container" />');
  };
  if(ae.length>0){
   ae.wrap('<div class="video-container" />');
  };
  if(ah.length==0){
    t.css('display','none');
  }else{
    c.click(function(){
      ta.css('display', 'block').addClass('fadeIn');
    });
    o.click(function(){
      ta.css('display', 'none');
    });
    $(window).scroll(function(){
      ta.css("top",Math.max(140,320-$(this).scrollTop()));
    });
  };
});
</script>


<script type="text/javascript">
$(document).ready(function(){ 
  var $this = $('.share'),
      url = $this.attr('data-url'),
      encodedUrl = encodeURIComponent(url),
      title = $this.attr('data-title'),
      tsina = $this.attr('data-tsina');
  var html = [
  '<a href="#" class="overlay" id="qrcode"></a>',
  '<div class="qrcode clearfix"><span>扫描二维码分享到微信朋友圈</span><a class="qrclose" href="#share"></a><strong>Loading...Please wait</strong><img id="qrcode-pic" data-src="http://s.jiathis.com/qrcode.php?url=' + encodedUrl + '"/></div>',
  '<a href="#textlogo" class="article-back-to-top" title="Top"></a>',
  '<a href="https://www.facebook.com/sharer.php?u=' + encodedUrl + '" class="article-share-facebook" target="_blank" title="Facebook"></a>',
  '<a href="#qrcode" class="article-share-qrcode" title="QRcode"></a>',
  '<a href="https://twitter.com/intent/tweet?url=' + encodedUrl + '" class="article-share-twitter" target="_blank" title="Twitter"></a>',
  '<a href="http://service.weibo.com/share/share.php?title='+title+'&url='+encodedUrl +'&ralateUid='+ tsina +'&searchPic=true&style=number' +'" class="article-share-weibo" target="_blank" title="Weibo"></a>',
  '<span title="Share to"></span>'
  ].join('');
  $this.append(html);
  $('.article-share-qrcode').click(function(){
    var imgSrc = $('#qrcode-pic').attr('data-src');
    $('#qrcode-pic').attr('src', imgSrc);
    $('#qrcode-pic').load(function(){
        $('.qrcode strong').text(' ');
    });
  });
});     
</script>






  <script src="/live2dw/lib/L2Dwidget.min.js?0c58a1486de42ac6cc1c59c7d98ae887"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/live2dw/assets/assets/tororo.model.json"},"display":{"position":"right","width":100,"height":200},"mobile":{"show":false},"bottom":0,"log":false});</script></body>
</html>
